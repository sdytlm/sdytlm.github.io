
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Longest Absolute File Path - 卖萌的弱渣</title>
  <meta name="author" content="Min Li">

  
  <meta name="description" content="Suppose we abstract our file system by a string in the following manner: The string &ldquo;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&rdquo; represents &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sdytlm.github.io/blog/2016/09/10/leetcode-longest-absolute-file-path">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="卖萌的弱渣" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">卖萌的弱渣</a></h1>
  
    <h2>I am stupid, I am hungry.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="sdytlm.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://ramsites.net/~lim4/">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Longest Absolute File Path</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-09-10'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Suppose we abstract our file system by a string in the following manner:</p>

<p>The string &ldquo;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&rdquo; represents:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>dir
</span><span class='line'>    subdir1
</span><span class='line'>    subdir2
</span><span class='line'>        file.ext</span></code></pre></td></tr></table></div></figure>


<p>The directory dir contains an empty sub-directory subdir1 and a sub-directory subdir2 containing a file file.ext.</p>

<p>The string &ldquo;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&rdquo; represents:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>dir
</span><span class='line'>    subdir1
</span><span class='line'>        file1.ext
</span><span class='line'>        subsubdir1
</span><span class='line'>    subdir2
</span><span class='line'>        subsubdir2
</span><span class='line'>            file2.ext</span></code></pre></td></tr></table></div></figure>


<p>The directory dir contains two sub-directories subdir1 and subdir2. subdir1 contains a file file1.ext and an empty second-level sub-directory subsubdir1. subdir2 contains a second-level sub-directory subsubdir2 containing a file file2.ext.</p>

<p>We are interested in finding the longest (number of characters) absolute path to a file within our file system. For example, in the second example above, the longest absolute path is &ldquo;dir/subdir2/subsubdir2/file2.ext&rdquo;, and its length is 32 (not including the double quotes).</p>

<p>Given a string representing the file system in the above format, return the length of the longest absolute path to file in the abstracted file system. If there is no file in the system, return 0.</p>

<h4>Note:</h4>

<ul>
<li>The name of a file contains at least a . and an extension.</li>
<li>The name of a directory or sub-directory will not contain a ..</li>
<li>Time complexity required: O(n) where n is the size of the input string.</li>
</ul>


<p>Notice that a/aa/aaa/file1.txt is not the longest file path, if there is another path aaaaaaaaaaaaaaaaaaaaa/sth.png.</p>

<!--more-->


<h3>Solution</h3>

<ul>
<li>hash_map: &lt;层数，字符串长度></li>
</ul>


<figure class='code'><figcaption><span> (Longest-Absolute-File-Path.py)</span> <a href='/downloads/code/LeetCode/Python/Longest-Absolute-File-Path.py'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='py'><span class='line'><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">lengthLongestPath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">):</span>
</span><span class='line'>        <span class="sd">&quot;&quot;&quot;</span>
</span><span class='line'><span class="sd">        :type input: str</span>
</span><span class='line'><span class="sd">        :rtype: int</span>
</span><span class='line'><span class="sd">        &quot;&quot;&quot;</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">hash_map</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span> <span class="c"># &lt;目录深度， 当前字符串长度&gt;</span>
</span><span class='line'>        <span class="n">maxlen</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>
</span><span class='line'>        <span class="c"># splitlines以&#39;\n&#39;划分</span>
</span><span class='line'>        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">input</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
</span><span class='line'>            <span class="c"># 有几个\t 就是第几层目录</span>
</span><span class='line'>            <span class="n">depth</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="n">name</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">)</span>
</span><span class='line'>            <span class="c"># 找到文件</span>
</span><span class='line'>            <span class="k">if</span> <span class="s">&#39;.&#39;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
</span><span class='line'>                <span class="n">maxlen</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">maxlen</span><span class="p">,</span> <span class="n">hash_map</span><span class="p">[</span><span class="n">depth</span><span class="p">]</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
</span><span class='line'>            <span class="k">else</span><span class="p">:</span>
</span><span class='line'>                <span class="c"># &quot;1&quot;: &quot;/&quot;</span>
</span><span class='line'>                <span class="n">hash_map</span><span class="p">[</span><span class="n">depth</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">hash_map</span><span class="p">[</span><span class="n">depth</span><span class="p">]</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">maxlen</span>
</span></code></pre></td></tr></table></div></figure>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Min Li</span></span>

      




<time class='entry-date' datetime='2016-09-10'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:00 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/leetcode/'>leetcode</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://sdytlm.github.io/blog/2016/09/10/leetcode-longest-absolute-file-path/" data-via="" data-counturl="http://sdytlm.github.io/blog/2016/09/10/leetcode-longest-absolute-file-path/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2016/09/10/leetcode-design-twitter/" title="Previous Post: Design Twitter">&laquo; Design Twitter</a>
      
      
        <a class="basic-alignment right" href="/blog/2016/09/10/leetcode-longest-substring-with-at-least-k-repeating-characters/" title="Next Post: Longest Substring with At Least K Repeating Characters">Longest Substring with At Least K Repeating Characters &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/geek/'>geek (3)</a></li>
<li class='category'><a href='/blog/categories/investment/'>investment (1)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (281)</a></li>
<li class='category'><a href='/blog/categories/lintcode/'>lintcode (78)</a></li>
<li class='category'><a href='/blog/categories/linux/'>linux (6)</a></li>
<li class='category'><a href='/blog/categories/mit6-828/'>mit6.828 (3)</a></li>
<li class='category'><a href='/blog/categories/nodejs/'>nodejs (1)</a></li>
<li class='category'><a href='/blog/categories/python/'>python (9)</a></li>
<li class='category'><a href='/blog/categories/virtualization/'>virtualization (10)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2019/05/06/company-list/">公司清单</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/04/01/accountant/">会计报表</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/11/16/virtualization-play-kvmgt/">Play KVMGT (GPU Virtualization)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/10/leetcode-partition-equal-subset-sum/">Partition Equal Subset Sum</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/10/combination-sum4/">Combination Sum 4</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 90%" href="/tags/geek/">Geek</a>
<a style="font-size: 90%" href="/tags/investment/">Investment</a>
<a style="font-size: 210%" href="/tags/leetcode/">LeetCode</a>
<a style="font-size: 184%" href="/tags/lintcode/">LintCode</a>
<a style="font-size: 114%" href="/tags/linux/">Linux</a>
<a style="font-size: 159%" href="/tags/leetcode/">leetcode</a>
<a style="font-size: 114%" href="/tags/linux/">linux</a>
<a style="font-size: 114%" href="/tags/mit6-dot-828/">mit6.828</a>
<a style="font-size: 138%" href="/tags/python/">python</a>
<a style="font-size: 140%" href="/tags/virtualization/">virtualization</a>

  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2019 - Min Li -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
